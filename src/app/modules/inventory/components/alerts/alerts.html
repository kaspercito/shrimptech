<div class="page-wrapper">
<h1 class="section-title">ðŸ”” Alertas de Stock</h1>

<div class="table-container">
  <table mat-table [dataSource]="productos">

    <!-- TABLA -->
    <ng-container matColumnDef="producto">
      <th mat-header-cell *matHeaderCellDef> Producto </th>
      <td mat-cell *matCellDef="let p">{{ p.nombre }}</td>
    </ng-container>

    <ng-container matColumnDef="stockActual">
      <th mat-header-cell *matHeaderCellDef> Stock Actual </th>
      <td mat-cell *matCellDef="let p">{{ p.stockActual }}</td>
    </ng-container>

    <ng-container matColumnDef="stockMinimo">
      <th mat-header-cell *matHeaderCellDef> Stock MÃ­nimo </th>
      <td mat-cell *matCellDef="let p">{{ p.stockMinimo }}</td>
    </ng-container>

    <!-- ESTADO -->
    <ng-container matColumnDef="estado">
      <th mat-header-cell *matHeaderCellDef> Estado </th>
      <td mat-cell *matCellDef="let p">
        <mat-chip
          selected
          [ngClass]="{
            'chip-rojo': getEstado(p) === 'bajo',
            'chip-amarillo': getEstado(p) === 'cerca',
            'chip-verde': getEstado(p) === 'correcto'
          }"
          class="chip-estado"
        >
          {{ getEstadoTexto(getEstado(p)) }}
        </mat-chip>
      </td>
    </ng-container>

    <!-- FILAS -->
    <tr mat-header-row *matHeaderRowDef="['producto','stockActual','stockMinimo','estado']"></tr>
    <tr mat-row *matRowDef="let row; columns: ['producto','stockActual','stockMinimo','estado'];"></tr>
  </table>
</div>
